<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="table-of-content">
      <h2>Table of Contents</h2>
      <ul>
        <li><a href="#type-safety">Type Safety</a></li>
        <li><a href="#static-dynamic">Static Type and Dynamic Type</a></li>
        <li><a href="#strong-weak">Strong Type and Weak Type</a></li>
        <li><a href="#data-casting">Data Casting</a></li>
      </ul>
    </div>

    <section id="type-safety">
      <h2>Type Safety and Type Soundness</h2>
      <p>
        Type safety and type soundness refer to the extent to which a
        programming language discourages or prevents type errors.
      </p>
      <p>
        Type safety là mức độ mà một ngôn ngữ lập trình không khuyến khích/không
        cho phép các lỗi kiểu dữ liệu.
      </p>

      <h3>Examples of Type Safety</h3>
      <div>
        <h3>Strongly Typed: Java</h3>
        <pre><code>
          int number = 5;
          String text = "hello";
          //Error
        </code></pre>
      </div>
      <div>
        <h3>Weakly Typed: JavaScript</h3>
        <pre><code>
          let result = "5" + 2; //Result = 52
          let sum = "5" - 2; //Result = 3
        </code></pre>
      </div>

      <p>
        Type safety is not the same as static/dynamic typing or strong/weak
        typing.
      </p>
    </section>

    <section id="static-dynamic">
      <h2>Static vs Dynamic typing</h2>
      <p>
        Type safety means that if a data item has type <code>X</code> and
        <code>X</code> doesn't support operation <code>y</code>, then a
        type-safe language can't perform <code>y(X)</code>. This can be checked
        in different ways:
      </p>
      <ul>
        <li>
          If the rule is checked at compile time, then it is a static typing
          language (static typing is equivalent to type safety at compile time).
        </li>
        <li>
          If the rule is checked at runtime, then it is a dynamic typing
          language (dynamic typing is equivalent to type safety at runtime).
        </li>
        <li>Some languages check the rule at both compile time and runtime.</li>
      </ul>

      <h3>Example of Type Safety Issue</h3>
      <p>
        Consider the following Java code, which can compile but may result in a
        type error at runtime:
      </p>
      <pre><code>
        Object obj = "I am a string";
        Consumer&lt;String&gt; consumer = (Consumer&lt;String&gt;) obj;
      </code></pre>
      <p>In this example:</p>
      <ul>
        <li>
          The compiler doesn't know that <code>obj</code> is actually a
          <code>String</code>; it only knows that an <code>Object</code> can be
          cast to any type (in this case, <code>Object</code> is cast to
          <code>Consumer&lt;String&gt;</code>).
        </li>
        <li>
          At runtime, the Java Virtual Machine recognizes that
          <code>obj</code> is a <code>String</code> and attempts to cast
          <code>String</code> to <code>Consumer&lt;String&gt;</code>, resulting
          in a type error.
        </li>
      </ul>
    </section>

    <section id="strong-weak">
      <h2>Strong vs Weak Typing</h2>
      <h3>Strong Typing</h3>
      <p>
        A strongly typed language does not allow implicit changes to data types.
        To change a data type, explicit casting or functions are required (e.g.,
        <code>str()</code> in Python).
      </p>
      <p>
        Note: Python is considered a strongly typed language if we don't
        strictly define strong typing, because Python allows operations like
        <code>double + int = double</code> (e.g., <code>1.0 + 2 = 3.0</code>).
      </p>

      <h3>Weak Typing</h3>
      <p>A weakly typed language allows implicit changes between data types.</p>
      <p>For example, JavaScript is a weakly typed language.</p>
    </section>

    <section id="data-casting">
      <h2>Data Casting</h2>
      <p>
        Suppose a char variable have 1 byte and a int variable have 4 byte. I
        want to cast int to char in programming language C.
      </p>
      <div>
        <pre><code>
          int number = 300; // In binary: 00000000 00000000 00000001 00101100
          char character = (char) number; // Only last byte is keep, 00101100 = 44 = "," in ASCII
          printf("%c\n", character); // ","
          printf("%d\n", character); // 44
        </code></pre>
      </div>
    </section>
  </body>
</html>
